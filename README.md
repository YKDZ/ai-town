# AI 星露谷

通过命令启动项目，其打开一个 GUI 界面，显示一个 2D 的模拟小镇地图，小镇上住着几位 AI 居民，居民们的人物设定见 [人物设定](data/characters.json)。

小镇地图由中心广场、酒馆、图书馆和每户居民的家组成。

小镇地图有白天与黑夜轮转机制。每到黑夜，居民们就会在自己决定的时间回到自己的住所、上床睡觉；早上则会自己决定今天的日程。

故事的“主角”是 [格斯](data/characters.json)。他想要在三天后在小镇的中心广场举办一场联谊活动，并且想要让小镇的每个人都来参加。他在这三天内将会冲这这个目标规划自己的行为并努力实现它。

此项目意图在 GUI 中展示这三天内，小镇上每个居民的行为、他们间的交流过程以及最终一起联合达成目的的过程。

## 场景设定

### 中央广场

小镇的中央的一片空地，常常用来举办活动。格斯想要举办的活动也将在这里发生。

中央广场还有一块告示版，每个居民都可以通过 Plan 给出特定操作以在上面发布消息。

### 酒馆

位于小镇广场旁边，是格斯的工作地点。居民们常在这里消遣娱乐，或是围坐在一起交流重要事项。

### 居民的家

居民的家基本上分散在小镇中央广场四周。是每个居民的住所。部分居民的家还有特殊职责，参见 [地点设定](data/locations.json)。

### 图书馆

用于安静地坐下来放松或查询研究资料的地方。

## 实现细节

此项目的实现细节有以下几个：

### 居民交互可视化

AI 居民之间通过语言交流，GUI 默认不会显示完整的交流语言，而是用一个 emoji（同样由 LLM 给出）概括一个人的发言和行为。

### 人格的保持

每个居民的基本设定已经给出，通过在提示词中累积记忆的方法让 LLM 可以“记住”以前发生的事情。

本项目还设计了一个记忆压缩阶段，在居民决定睡觉时用给定提示词要求 LLM 反思并压缩自己一天的记忆，以模拟人类在夜间巩固记忆的行为，同时节省 Token。

### 由大模型输出到场景内人物行为

通过提示词要求 LLM 尽量给出结构化的输入，由简单的文本匹配将输出反馈到具体的行为。

### LLM API

本项目仅支持 OpenAI API 风格。测试用后端为 deepseek-chat（v3.2，非思考模式）。